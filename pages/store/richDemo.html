<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../dist/css/layui.css" />
		<script src="../../js/environment.js" type="text/javascript" charset="utf-8"></script>
		<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.min.js"></script>
		<script src="../../dist/layui.js" type="text/javascript" charset="utf-8"></script>
		<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
		<script src="../../dist/lay/modules/layer.js" type="text/javascript" charset="utf-8"></script>
		<script src="https://unpkg.com/http-vue-loader"></script>
		<script src="../../js/kboot.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/msCode.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.container {
				padding: 20px;
			}

			.redStar {
				color: red;
				font-size: 1.5rem;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<div class="container">
				<form class="layui-form">
					<textarea id="storeRich" style="display: none;"></textarea>
					<!-- <input type="submit" /> -->
					<button type="button" @click="showRich()">提交</button>
				</form>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var example = {
			index:0
		}
		new Vue({
			el: "#app",
			data() {
				return example
			},
			components: {
				'img-area': httpVueLoader('/jiwuzao-merchant/plugins/imgArea.vue'),
			},
			mounted() {
				layui.use('layedit', function() {
					var layedit = layui.layedit;
					layedit.setContent("aa")
					var res = layedit.getContent(example.index)
					console.log(res)
				})
			},
			methods: {
				showRich(){
					layui.use('layedit', function() {
						var layedit = layui.layedit;
						layedit.setContent("aa")
						var res = layedit.getContent(example.index)
						console.log(res)
					})
				}
			}
		})
	</script>

	<script>
		layui.use('layedit', function() {
			var layedit = layui.layedit;
			layedit.set({
				uploadImage: {
					url:'http://api.jiwuzao.com/upload/myUpload',
					type: 'post',
				}
			});
			example.index = layedit.build('storeRich'); //建立编辑器

		});

	</script>

</html>
